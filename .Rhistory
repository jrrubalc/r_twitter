setwd("~/r_code/r_twitter")
library("twitteR")
source('~/r_code/r_twitter/twitter_api.r')
searchTerms = read.table("queries.txt", header = TRUE)
searchTerms=t(searchTerms)
allTweets = vector(length=0)
print("Searching Twitter")
for (i in 1:length(searchTerms)) {
current_tweets<- searchTwitter(searchTerms[[i]], n=5)
allTweets = c(allTweets,current_tweets)
}
print("Performing sentiment analysis.")
text = laply(allTweets, function(t) t$getText() )
scores = score.sentiment(text, pos.words, neg.words, .progress='text')
print("Saving data to CSV.")
allTweets.df = ldply(allTweets, function(t) t$toDataFrame())
write.csv(allTweets.df, file = "twitter_data.csv")
